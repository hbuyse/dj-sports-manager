{% load crispy_forms_field %}

{% comment %}
<div class="input-group">
    <div class="custom-file {{ field_class }}">
        <input type="file" class="custom-file-input {% if field.errors %}is-invalid{% endif %}" id="{{ field.id_for_label }}" name="{{ field.name }}" class="clearablefileinput" {% if field.url %}value="{{ field.url }}"{% endif %}>
        <label class="custom-file-label" for="{{ field.id_for_label }}">Choose file</label>
    </div>
</div>

{% if field.help_text %}
    {% if help_text_inline %}
        <span id="hint_{{ field.auto_id }}" class="text-muted">{{ field.help_text|safe }}</span>
    {% else %}
        <small id="hint_{{ field.auto_id }}" class="form-text text-muted">{{ field.help_text|safe }}</small>
    {% endif %}
{% endif %}

{% if form_show_errors and field.errors %}
    {% for error in field.errors %}
        <p id="error_{{ forloop.counter }}_{{ field.auto_id }}" class="invalid-feedback d-block"><strong>{{ error }}</strong></p>
    {% endfor %}
{% endif %}
{% endcomment %}

<div class="custom-file {{ field_class }}">
    {% crispy_field field 'class' 'custom-file-input' %}
    <label class="custom-file-label" for="{{ field.id_for_label }}">Choose file</label>
    {% include 'bootstrap4/layout/help_text_and_errors.html' %}
</div>