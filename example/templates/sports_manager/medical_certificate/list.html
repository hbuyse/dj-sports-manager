{% extends "base.html" %}

{% load i18n %}
{% load l10n %}
{% load staticfiles %}

{% block path %}
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'home' %}">{% trans "Home" %}</a></li>
      <li class="breadcrumb-item" aria-current="page"><a href="{% url 'sports-manager:player-list' user.get_username %}">{% trans "My players" %}</a></li>
      <li class="breadcrumb-item" aria-current="page"><a href="{{ player.get_absolute_url }}">{{ player }}</a></li>
      <li class="breadcrumb-item active" aria-current="page">{% trans "Medical certificates" %}</li>
    </ol>
  </nav>
{% endblock %}

{% block page_title %}
  {% blocktrans with full_name=player.full_name %}
    {{ full_name }}'s medical certificates
  {% endblocktrans %}
{% endblock %}

{% block page_title_buttons %}
  {% if user.is_authenticated %}
    <div class="btn-group float-right" role="group">
      <a class="btn btn-primary" href="{% url 'sports-manager:player-medical-certificate-create' user.get_username player.slug %}">{% trans "New medical certificate" %}</a>
    </div>
  {% endif %}
{% endblock %}

{% block content %}
  {% for object in object_list %}
    {% if forloop.first %}
      <table class="table table-hover" id="myPlayerTable">
        <thead class="thead-light">
          <tr>
            <th scope="col">{% trans "Validation" %}</th>
            <th scope="col">{% trans "Start" %}</th>
            <th scope="col">{% trans "End" %}</th>
          </tr>
        </thead>
        <tbody>
    {% endif %}

          <tr>
            <td>{{ object.get_validation_display|capfirst }}</td>
            <td>{{ object.start }}</td>
            <td>{{ object.end }}</td>
          </tr>

    {% if forloop.last %}
        </tbody>
      </table>
    {% endif %}
  {% empty %}
    <p>
      {% blocktrans with full_name=player.full_name %}
        No medical certificate linked to the player {{ full_name }} listed yet...
      {% endblocktrans %}
    </p>
  {% endfor %}
{% endblock %}
