{% extends "base.html" %}

{% load i18n %}

{% block path %}
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'home' %}">{% trans "Home" %}</a></li>
      <li class="breadcrumb-item active" aria-current="page">{% trans "Teams" %}</li>
    </ol>
  </nav>
{% endblock %}

{% block page_title %}
  {% trans "Teams" %}
{% endblock %}

{% block page_title_buttons %}
  {% if user.is_staff %}
    <div class="btn-group float-right" role="group">
      <a class="btn btn-primary" href="{% url 'sports-manager:team-create' %}">{% trans "New team" %}</a>
    </div>
  {% endif %}
{% endblock %}

{% block content %}
  {% for team in team_list %}
    {% ifchanged team.category %}
      {% if not forloop.first %}
        </div>
      {% endif %}
      <h3>{{ team.category }}</h3>
      <div class="row">
    {% endifchanged %}

    <div class="col-sm-12 col-md-6 col-lg-4 mb-5">
      <div class="card">
        {% if team.img %}
          <img class="card-img-top" src="{{ team.img.url }}" alt="{{ team.name }}'s logo">
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ team.name }}</h5>
          <p class="card-text">{{ team.category }} - {{ team.get_sex_display }}</p>
          <a href="{{ team.get_absolute_url }}" class="card-link">{% trans "Details" %}</a>
        </div>
      </div>
    </div>
    {% if forloop.last %}
      </div>
    {% endif %}
  {% empty %}
    <p>{% trans "No team listed yet" %}...</p>
  {% endfor %}
{% endblock %}
